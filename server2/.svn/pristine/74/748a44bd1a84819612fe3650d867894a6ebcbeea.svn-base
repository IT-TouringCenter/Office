<?php
namespace App\Facades\Tours;

use App\Repositories\JobDepartmentRepository as JobDepartmentRepository;
use App\job_department as job_department;

class JobDepartmentClass extends BaseClass{  
  public function __construct(JobDepartmentRepository $repo){
    $this->JobDepartmentRepository = $repo;
  }

  public function GetJobDepartmentById($department_id){
  	$job_department_repo = $this->JobDepartmentRepository->findBy('id',$department_id);
    // $department_arr = [];
    foreach($job_department_repo as $value) {
    	$job_department = new job_department;
    	$job_department->id = $value->id;
    	$job_department->department = $value->department;
    	$job_department->workplace = $value->workplace;
    	$job_department->icon = $value->icon_path;
      // array_push($department_arr,$job_department);
    }
    return $job_department;
  }

  public function GetJobDepartmentByInterns(){
    $job_department_repo = $this->JobDepartmentRepository->GetDepartmentByInterns();
    $department_arr = [];
    foreach($job_department_repo as $value){
      $job_department = new job_department;
      $job_department->id = $value->id;
      $job_department->department = $value->department;
      $job_department->workplace = $value->workplace;
      $job_department->icon = $value->icon_path;
      array_push($department_arr,$job_department);
    }
    return $department_arr;
  }
}

?>
